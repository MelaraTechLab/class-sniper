<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Class Sniper</title>
        <link rel="stylesheet" href="popup.css" />
    </head>
    <body>
        <div class="app-shell">
            <header class="hero">
                <div class="hero-icon" aria-hidden="true">
                    <svg viewBox="0 0 48 48" role="presentation">
                        <circle cx="24" cy="24" r="21" stroke="#90d0ff" stroke-width="2" fill="none" />
                        <circle cx="24" cy="24" r="13" stroke="#ffffff" stroke-width="2" fill="none" opacity="0.65" />
                        <circle cx="24" cy="24" r="6" fill="#ffffff" opacity="0.9" />
                        <path d="M24 8v5M24 35v5M8 24h5M35 24h5" stroke="#ffffff" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </div>
                <div class="hero-copy">
                    <p class="hero-kicker">Class Sniper</p>
                    <h1>Panel de control</h1>
                    <p>Monitorea la disponibilidad de cursos y ajusta el bot sin salir del navegador.</p>
                </div>
            </header>

            <section class="card status-section">
                <div class="section-heading">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path d="M12 3v3m0 12v3m9-9h-3M6 12H3m15.9-5.9-2.1 2.1M8.2 15.8l-2.1 2.1m0-12.1 2.1 2.1m9.6 9.6 2.1 2.1" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" fill="none" />
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" fill="none" />
                    </svg>
                    <span>Estado del bot</span>
                </div>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <div>
                        <p class="muted">Estado actual</p>
                        <strong id="statusText">Inactivo</strong>
                    </div>
                </div>
                <button id="toggleBtn" class="btn btn-primary control-btn" data-state="idle">
                    <span class="btn-icon" aria-hidden="true">
                        <svg class="icon icon-play" viewBox="0 0 24 24" role="presentation">
                            <path d="m9 6 9 6-9 6z" fill="currentColor" />
                        </svg>
                        <svg class="icon icon-pause" viewBox="0 0 24 24" role="presentation">
                            <rect x="7" y="6" width="3.5" height="12" rx="1" fill="currentColor" />
                            <rect x="13.5" y="6" width="3.5" height="12" rx="1" fill="currentColor" />
                        </svg>
                    </span>
                    <span class="btn-label">Iniciar</span>
                </button>
            </section>

            <section class="card config-section">
                <div class="section-heading">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                    </svg>
                    <span>Cursos a monitorear</span>
                </div>
                <div id="coursesList" class="courses-list"></div>
                <button id="addCourseBtn" class="btn btn-secondary ghost-btn">
                    <span class="btn-icon" aria-hidden="true">
                        <svg class="icon" viewBox="0 0 24 24" role="presentation">
                            <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" />
                        </svg>
                    </span>
                    <span>Agregar curso</span>
                </button>
            </section>

            <section class="card interval-section">
                <div class="section-heading">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.6" fill="none" />
                        <path d="M12 8v4l2.5 2.5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <span>Intervalo de refresco</span>
                </div>
                <p class="muted">Elige la frecuencia con la que se revisa la disponibilidad de tus cursos.</p>
                <div class="input-control">
                    <input type="number" id="refreshInterval" value="10" min="5" max="120" />
                    <span class="input-suffix">seg</span>
                </div>
            </section>

            <section class="card log-section">
                <div class="section-heading">
                    <svg viewBox="0 0 24 24" role="presentation">
                        <path d="M5 7h6m-6 5h14m-14 5h10" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                        <circle cx="15" cy="7" r="1.6" fill="currentColor" />
                    </svg>
                    <span>Actividad reciente</span>
                </div>
                <div id="activityLog" class="log-container"></div>
            </section>
        </div>

        <div id="addCourseModal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-icon" aria-hidden="true">
                        <svg viewBox="0 0 24 24" role="presentation">
                            <path d="M5 4h14v16H5z" stroke="currentColor" stroke-width="1.6" fill="none" />
                            <path d="M7 8h10M7 12h6" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                        </svg>
                    </div>
                    <div>
                        <p class="modal-kicker">Nuevo curso</p>
                        <h3>Agregar curso</h3>
                    </div>
                </div>
                <label for="courseCode">Código del curso</label>
                <input type="text" id="courseCode" placeholder="Ej: MM3032" />

                <label for="courseSections">Secciones (separadas por coma)</label>
                <input type="text" id="courseSections" placeholder="Ej: 20, 21, 22" />

                <p class="helper-text">Las secciones se asignan de izquierda a derecha según prioridad.</p>

                <div class="modal-buttons">
                    <button id="saveCourseBtn" class="btn btn-primary">
                        <span class="btn-icon" aria-hidden="true">
                            <svg class="icon" viewBox="0 0 24 24" role="presentation">
                                <path d="M6 12.5 10 16l8-8" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none" />
                            </svg>
                        </span>
                        <span>Guardar</span>
                    </button>
                    <button id="cancelCourseBtn" class="btn btn-secondary ghost-btn">
                        <span class="btn-icon" aria-hidden="true">
                            <svg class="icon" viewBox="0 0 24 24" role="presentation">
                                <path d="m6 6 12 12M18 6 6 18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" />
                            </svg>
                        </span>
                        <span>Cancelar</span>
                    </button>
                </div>
            </div>
        </div>

        <script src="popup.js"></script>
    </body>
</html>
